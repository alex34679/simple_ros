# simple_ros_comm 项目总览

## 1. 项目简介

simple_ros_comm 是一个基于 C++17 的轻量级通信库，设计来源于 ROS (Robot Operating System)，提供了类似 ROS 的发布/订阅通信机制、定时器功能和可视化支持。该项目主要用于机器人系统中的节点间通信，支持跨进程和跨网络的消息传递。

## 2. 项目架构

项目采用模块化设计，主要包括以下核心组件：

- **SystemManager**: 系统管理器，负责初始化和管理整个通信系统
- **NodeHandle**: 节点句柄，提供创建发布者、订阅者和定时器的接口
- **Publisher**: 发布者，负责向指定主题发布消息
- **Subscriber**: 订阅者，负责接收指定主题的消息并调用回调函数
- **Timer**: 定时器，提供定时触发回调函数的功能
- **MessageQueue**: 消息队列，存储和分发消息
- **Foxglove Bridge**: 可视化桥接器，支持与 Foxglove Studio 集成进行数据可视化

整体架构遵循发布/订阅模式，节点通过主题进行松耦合通信，支持异步事件处理和多线程操作。

## 3. 技术栈

- **C++17**: 核心编程语言
- **Protobuf**: 用于序列化和反序列化消息
- **gRPC**: 用于远程过程调用
- **Muduo**: 高性能网络库，提供事件循环和TCP连接管理
- **Eigen3**: 用于矩阵运算和四元数操作
- **nlohmann_json**: 用于JSON解析
- **Foxglove Studio**: 可视化工具，用于数据和机器人状态的实时监控

## 4. 目录结构

项目采用标准的C++项目结构，主要分为头文件、源代码、示例、测试和工具等部分：

```
simple_ros/
├── include/           # 头文件目录
│   ├── global_init.h  # 全局初始化相关头文件
│   ├── node_handle.h  # 节点句柄头文件
│   ├── publisher.h    # 发布者头文件
│   ├── subscriber.h   # 订阅者头文件
│   └── timer.h        # 定时器头文件
├── src/               # 源代码目录
│   ├── generated/     # 自动生成的protobuf代码
│   └── ...            # 其他源代码文件
├── proto/             # Protocol Buffers 定义文件
├── examples/          # 示例代码
├── test/              # 测试代码
├── tools/             # 工具程序
└── docs/             # 文档目录
    ├── 项目总览.md    # 项目总览文档
    ├── 模块设计.md    # 模块设计文档
    ├── 使用方法.md    # 使用方法文档
    └── 示例代码.md    # 示例代码文档
```

## 5. 主要功能

1. **节点管理**：创建和管理通信节点，处理节点间的连接和注册
2. **发布/订阅通信**：基于主题的消息发布和订阅机制
3. **定时器功能**：支持周期性和一次性定时器
4. **远程过程调用**：基于gRPC的节点间远程调用
5. **可视化支持**：与Foxglove Studio集成，支持Marker和路径可视化
6. **消息队列管理**：高效的消息存储和分发

## 6. 设计理念

- **轻量级**：核心功能简洁高效，易于集成
- **松耦合**：基于发布/订阅模式，节点间通过主题进行通信，降低耦合度
- **可扩展**：模块化设计，易于添加新功能和支持新的消息类型
- **高性能**：利用Muduo网络库和异步事件处理，提供高效的通信性能
- **兼容性**：支持与ROS消息格式的兼容，便于与现有ROS系统集成

## 7. 典型应用场景

- **机器人控制系统**：用于机器人各模块间的通信
- **多传感器数据融合**：处理和融合来自不同传感器的数据
- **实时监控和可视化**：通过Foxglove Studio监控系统状态和数据
- **分布式系统**：用于构建分布式机器人系统和应用

## 8. 后续文档

请参考以下文档获取更详细的信息：

- [核心模块设计](核心模块设计.md)：详细介绍各个核心模块的设计和实现
- [API参考](API参考.md)：详细介绍系统提供的主要接口和使用方法
- [可视化模块](可视化模块.md)：详细介绍Foxglove Bridge的集成和使用
- [示例代码解析](示例代码解析.md)：详细解释示例代码的功能和使用方法
